<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Installation &mdash; xHARPy 0.1.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Command Line Interface" href="commandline.html" />
    <link rel="prev" title="Welcome to xHARPy’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> xHARPy
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#packages">Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="#windows">Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="#linux">Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-other-functionals-in-gpaw">Using other functionals in GPAW</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="commandline.html">Command Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="library/library_index.html">Scripting with xHARPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">xharpy</a></li>
<li class="toctree-l1"><a class="reference internal" href="xharpy.html">xharpy package</a></li>
<li class="toctree-l1"><a class="reference internal" href="xharpy.f0j_sources.html">xharpy.f0j_sources package</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">xHARPy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Installation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/installation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline"></a></h1>
<div class="section" id="packages">
<h2>Packages<a class="headerlink" href="#packages" title="Permalink to this headline"></a></h2>
<dl class="simple">
<dt>The following packages in the following versions were used for development</dt><dd><ul class="simple">
<li><p>python = 3.8.12</p></li>
<li><p><a class="reference external" href="https://numpy.org/">numpy</a> = 1.20.3</p></li>
<li><p><a class="reference external" href="https://scipy.org/">scipy</a> = 1.7.3</p></li>
<li><p><a class="reference external" href="https://pandas.pydata.org/">pandas</a> = 1.3.5</p></li>
<li><p><a class="reference external" href="https://jax.readthedocs.io/">jax</a> = 0.2.26</p></li>
</ul>
</dd>
<dt>For atomic form factor calculation in GPAW</dt><dd><ul class="simple">
<li><p><a class="reference external" href="https://wiki.fysik.dtu.dk/gpaw/">gpaw</a> = 21.6.0</p></li>
<li><p><a class="reference external" href="https://wiki.fysik.dtu.dk/ase/">ase</a> = 3.22.1</p></li>
</ul>
</dd>
<dt>For difference electron density calculation</dt><dd><ul class="simple">
<li><p><a class="reference external" href="https://cci.lbl.gov/cctbx_docs/index.html">cctbx</a> = 2021.11</p></li>
</ul>
</dd>
</dl>
<p>This does not mean, that the library will not work with other versions. I tried
not to use the newest of features, but I do not have the means/time to test how
much older or newer the versions can be before things start to break.</p>
</div>
<div class="section" id="windows">
<h2>Windows<a class="headerlink" href="#windows" title="Permalink to this headline"></a></h2>
<p>As the library relies on GPAW there is no direct straightforward way to
install on Microsoft Windows Python installations. However, the library
has been tested on the
<a class="reference external" href="https://docs.microsoft.com/en-us/windows/wsl/install">Windows Subsystem For Linux</a>.
This provides a full linux shell under windows and can be installed to run linux
programs on Microsoft Windows. Afterwards you can follow the linux instruction
from that shell.</p>
</div>
<div class="section" id="linux">
<h2>Linux<a class="headerlink" href="#linux" title="Permalink to this headline"></a></h2>
<p>The easiest way to obtain all the necessary package is within a conda
environment. After installation of <a class="reference external" href="https://www.anaconda.com/products/individual">Anaconda</a> create and activate a new
environment using</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">conda create -n xharpy</span>
<span class="go">conda activate xharpy</span>
</pre></div>
</div>
<p>You can now start by installing python in that environment
.. code-block:: console</p>
<blockquote>
<div><p>conda install -c conda-forge python=3.8</p>
</div></blockquote>
<p>Followed by installing the necessary packages</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">conda install -c conda-forge jax=0.2.26 numpy=1.20.3 scipy=1.7.3 pandas=1.3.5</span>
</pre></div>
</div>
<p>You need to add the folder where your xharpy <em>directory</em> is located to the
$PYTHONPATH. If you are unsure the directory should be one level above the one
where the <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> is located. As long as there is no installation
routine you can do this by</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">conda develop /path/to/xharpy</span>
</pre></div>
</div>
<p>This will create a .pth file in the site-packages of your conda environment.</p>
<p>Currently xHARPy has no working possibility for calculating difference
electron densities on its own. For this purpose we need the cctbx library.
The library will however run without cctbx, with some features unavailable.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">conda install -c conda-forge cctbx=2021.11</span>
</pre></div>
</div>
<p>If you want to use gpaw as source for the atomic form factors (recommended)</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">conda install -c conda-forge ase=3.22.1 gpaw=21.6.0</span>
</pre></div>
</div>
<p>Finally, the examples are written as jupyter notebooks. It also has proven
to be good practice to write the refinements in jupyter, as it is easy to
further analyse the results. This is however not necessary.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">conda install -c conda-forge jupyter jupyterlab</span>
</pre></div>
</div>
</div>
<div class="section" id="using-other-functionals-in-gpaw">
<h2>Using other functionals in GPAW<a class="headerlink" href="#using-other-functionals-in-gpaw" title="Permalink to this headline"></a></h2>
<p>If installed via conda GPAW does bring the PAW setups for some functionals. If
you wand to use metaGGA functionals further action is also not necessary, as
these will use the PBE setups. For usage of GGA or LDA functionals not included
follow these steps.</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Go to your GPAW path by typing into the console:</p></li>
</ol>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cd $GPAW_SETUP_PATH</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>For all the main and transition group elements with the functional type <em>xc</em> in:</p></li>
</ol>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">gpaw-setup -f *xc* H He Li Be B C N O F Ne Na Mg Al Si P S Cl Ar K Ca Sc Ti V Cr Mn Fe Co Ni Cu Zn Ga Ge As Se Br Kr Rb Sr Y Zr Nb Mo Ru Rh Pd Ag Cd In Sn Sb Te I Xe Cs Ba La Ce Hf Ta W Re Os Ir Pt Au Hg Tl Pb Bi</span>
</pre></div>
</div>
</div></blockquote>
</div></blockquote>
<p>For more details consult the <a class="reference external" href="https://wiki.fysik.dtu.dk/gpaw/">gpaw documentation</a></p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to xHARPy’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="commandline.html" class="btn btn-neutral float-right" title="Command Line Interface" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Paul Niklas Ruth.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>